// _hero.scss - Pen-pol Theme
// Hero Section with WCAG compliance and BEM methodology
// Three-level container structure with proper spacing

// =============================================================================
// 01. HERO WRAPPER - Full-width background section
// =============================================================================

.hero-wrapper {
  background-color: $white;
  width: 100%;
  // Brak paddingu - full width background
}

// =============================================================================
// HERO CONTAINER - Standard container with padding
// =============================================================================

.hero-container {
  max-width: 100%;
  margin: 0 auto;
  width: 100%;
  padding: 20px;
  box-sizing: border-box;
}

// =============================================================================
// HERO - Slider container with border-radius and shadow
// =============================================================================

.hero {
  position: relative;
  width: 100%;
  height: 100vh;
  min-height: 500px;
  max-height: 800px;
  overflow: hidden;
  border-radius: 8px;
  box-shadow: map-get($shadows, "lg");
  
  @include mobile-up {
    min-height: 500px;
  }
  
  @include desktop-up {
    min-height: 600px;
  }
  
  // =============================================================================
  // HERO SLIDER
  // =============================================================================
  
  &__slider {
    width: 100%;
    height: 100%;
    position: relative;
    
    .swiper-wrapper {
      height: 100%;
    }
    
    .swiper-slide {
      height: 100%;
      width: 100%;
    }
  }
  
  // =============================================================================
  // HERO SLIDE
  // =============================================================================
  
  &__slide {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
  
  // =============================================================================
  // HERO BACKGROUND & RESPONSIVE IMAGES
  // =============================================================================
  
  &__background {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
  }
  
  &__image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    
    // Desktop image - hidden on mobile
    &--desktop {
      display: none;
      
      @include tablet-up {
        display: block;
      }
    }
    
    // Mobile image - visible only on mobile
    &--mobile {
      display: block;
      
      @include tablet-up {
        display: none;
      }
    }
  }
  
  &__overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      to top,
      rgba($black, 0.9) 0%,     // Mocniejszy czarny na dole
      rgba($black, 0.8) 20%,    // Mocniejszy gradient
      rgba($black, 0.6) 40%,    // Rozciągnięty gradient
      rgba($black, 0.3) 60%,    // Rozciągnięty gradient
      rgba($black, 0.2) 80%,    // Lekki gradient na górze
      rgba($black, 0.0) 100%    // Przezroczysty na samej górze
    );
    z-index: 2;
  }
  
  // =============================================================================
  // NAVIGATION CONTROLS - POPRAWIONE POZYCJONOWANIE
  // =============================================================================

  &__navigation {
    position: absolute;
    top: -50px;
    left: auto;
    right: auto;
    z-index: 15;
    display: flex;
    justify-content: space-between;
    width: auto;
    box-sizing: border-box;
    
    @include tablet-up {
      position: static;
      top: auto;
      left: auto;
      right: auto;
      width: auto;
      gap: map-get($spacing, "lg");
      justify-content: flex-start;
      z-index: auto;
    }
  }

  &__nav-button {
    width: 40px;
    height: 40px;
    background-color: transparent;
    border: none; 
    display: flex;
    align-items: center;
    justify-content: center;
    color: $white;
    cursor: pointer;
    transition: transform map-get($transitions, "normal");
    flex-shrink: 0;
    
    @include tablet-up {
      width: 48px;
      height: 48px;
    }
    
    &:focus-visible {
      outline: $focus-width $focus-style $focus-color;
      outline-offset: $focus-offset;
    }
    
    img {
      width: 24px;
      height: 24px;
      filter: brightness(0) invert(1);
      transition: transform map-get($transitions, "normal");
      
      @include tablet-up {
        width: 32px;
        height: 32px;
      }
    }
    
    // Strzałka w lewo - przesunięcie w lewo na hover
    &--prev:hover {
      img {
        transform: translateX(-3px);
        
        @include tablet-up {
          transform: translateX(-5px);
        }
      }
    }
    
    // Strzałka w prawo - przesunięcie w prawo na hover
    &--next:hover {
      img {
        transform: translateX(3px);
        
        @include tablet-up {
          transform: translateX(5px);
        }
      }
    }
  }
  
  // =============================================================================
  // HERO CONTENT - POPRAWIONE BOX-SIZING
  // =============================================================================
  
  &__content {
    position: absolute;
    bottom: 5%;
    left: 0;
    right: 0;
    z-index: 10;
    padding-inline: $section-padding-inline;
    padding-bottom: map-get($spacing, "lg");
    box-sizing: border-box;
    
    @include tablet-up {
      padding-inline: $section-padding-inline-tablet;
      bottom: 7%;
      padding-bottom: map-get($spacing, "xl");
    }
    
    @include desktop-up {
      padding-inline: $section-padding-inline-desktop;
      bottom: 10%;
    }
  }
  
  &__wrapper {
    display: flex;
    flex-direction: column;
    gap: map-get($spacing, "md");
    width: 100%;
    box-sizing: border-box;
    
    @include tablet-up {
      gap: map-get($spacing, "lg");
    }
  }
  
  // =============================================================================
  // CONTENT SECTIONS - POPRAWIONE STRUKTURY
  // =============================================================================
  
  &__header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-bottom: map-get($spacing, "md");
    border-bottom: 1px solid rgba($white, 0.4);
    flex-direction: column;
    align-items: flex-start;
    gap: map-get($spacing, "sm");
    position: relative;
    box-sizing: border-box;
    
    @include tablet-up {
      flex-direction: row;
      align-items: center;
      gap: 0;
      padding-bottom: map-get($spacing, "lg");
    }
  }
  
  &__body {
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    flex-direction: column;
    align-items: flex-start;
    gap: map-get($spacing, "sm");
    box-sizing: border-box;
    
    @include tablet-up {
      flex-direction: row;
      align-items: flex-end;
      gap: 0;
    }
  }
  
  &__text-content {
    max-width: 600px;
    width: 100%;
    box-sizing: border-box;
    
    @include tablet-up {
      width: auto;
    }
  }
  
  // =============================================================================
  // TYPOGRAPHY - MOBILE OPTIMIZED
  // =============================================================================
  
  &__title {
    color: $white;
    margin: 0;
    margin-bottom: map-get($spacing, "xs");
    
    @include tablet-up {
      margin-bottom: map-get($spacing, "sm");
    }
  }
  
  &__title-main {
    display: block;
    font-size: clamp(32px, 8vw, 64px);
    font-weight: map-get($font-weights, "light");
    line-height: map-get($line-heights, "tight");
  }
  
  &__title-accent {
    display: block;
    font-size: clamp(32px, 8vw, 64px);
    font-family: $font-secondary;
    font-style: italic;
    font-weight: map-get($font-weights, "regular");
    color: $white;
  }
  
  &__description {
    color: $white !important;
    
    p {
      font-size: 16px;
      line-height: map-get($line-heights, "relaxed");
      font-weight: map-get($font-weights, "light");
      margin: 0;
      color: $white !important;
      
      @include tablet-up {
        font-size: 18px;
      }
    }
  }
  
  // =============================================================================
  // BUTTON CUSTOMIZATION - POPRAWIONE HOVER I BORDER
  // =============================================================================
  
  .btn--link--light {
    width: 100%;
    text-align: left;
    display: flex;
    align-items: center;
    justify-content: space-between;
    font-weight: map-get($font-weights, "super-light");
    padding-right: 8px;
    position: relative;
    border-bottom: 1px solid rgba($white, 0.4) !important; 
    box-sizing: border-box;
    
    @include tablet-up {
      width: auto;
      text-align: left;
      padding-right: 16px;
    }
    
    // Rozszerzony border-bottom przez pseudo-element
    &::after {
      content: '';
      position: absolute;
      bottom: -1px;
      left: -20px;
      right: -20px;
      height: 1px;
      background-color: rgba($white, 0.4);
      transition: background-color map-get($transitions, "normal");
      
      @include tablet-up {
        left: -12px;
        right: -12px;
      }
    }
    
    .btn__text {
      font-size: 20px;
      position: relative;
      z-index: 2;
      
      @include tablet-up {
        font-size: 20px;
      }
    }
    
    .btn__icon {
      filter: brightness(0) invert(1);
      transition: transform map-get($transitions, "normal");
      height: 14px;
      width: 14px;
      position: relative;
      z-index: 2;
      flex-shrink: 0;
      
      @include tablet-up {
        height: 16px;
        width: 16px;
      }
    }
    
    
    &:focus-visible {
      &::after {
        background-color: rgba($white, 1);
      }
    }
  }

    .btn--link--dark {
    width: 100%;
    text-align: left;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    padding-right: 8px;
    position: relative;
    box-sizing: border-box;
    
    @include tablet-up {
      width: auto;
      text-align: left;
      padding-right: 16px;
    }
    
    // Rozszerzony border-bottom przez pseudo-element
    &::after {
      content: '';
      position: absolute;
      bottom: -1px;
      left: -20px;
      right: -20px;
      height: 1px;
      background-color: rgba($black, 0.4);
      transition: background-color map-get($transitions, "normal");
      
      @include tablet-up {
        left: -12px;
        right: -12px;
      }
    }
    
    .btn__text {
      font-size: 16px;
      position: relative;
      z-index: 2;
      
      @include tablet-up {
        font-size: 20px;
      }
    }
    
    .btn__icon {
      filter: brightness(0) invert(1);
      transition: transform map-get($transitions, "normal");
      height: 14px;
      width: 14px;
      position: relative;
      z-index: 2;
      flex-shrink: 0;
      
      @include tablet-up {
        height: 16px;
        width: 16px;
      }
    }
  
    
    &:focus-visible {
      &::after {
        background-color: rgba($white, 1);
      }
    }
  }
  
  // =============================================================================
  // CONTROLS SECTION - POPRAWIONE
  // =============================================================================
  
  &__controls {
    width: 100%;
    box-sizing: border-box;
    
    @include tablet-up {
      width: auto;
    }
  }
}

// =============================================================================
// OVERRIDES - Nadpisanie istniejących stylów które mogą powodować problemy
// =============================================================================

// Usunięcie paginacji punktowej
.hero-wrapper .swiper-pagination,
.hero-container .swiper-pagination,
.hero .swiper-pagination {
  display: none !important;
}

// Usunięcie kropek paginacji po lewej stronie
.hero-wrapper .hero__pagination,
.hero-container .hero__pagination,
.hero .hero__pagination {
  display: none !important;
}

// Zapewnienie działania efektów hover dla przycisków
.hero-wrapper .btn:hover .btn__icon--right,
.hero-container .btn:hover .btn__icon--right,
.hero .btn:hover .btn__icon--right {
  transform: translateX(8px) !important;
}

// =============================================================================
// ACCESSIBILITY & PERFORMANCE
// =============================================================================

// Reduced motion preferences
@media (prefers-reduced-motion: reduce) {
  .hero {
    &__slide {
      transition: none;
    }
    
    &__nav-button {
      transition: none;
    }
    
    .btn {
      &::after {
        transition: none;
      }
      
      .btn__icon {
        transition: none;
      }
    }
  }
}

// High contrast mode support
@media (prefers-contrast: high) {
  .hero {
    &__overlay {
      background: linear-gradient(
        to top,
        rgba($black, 0.9) 0%,
        rgba($black, 0.7) 50%,
        rgba($black, 0.4) 100%
      );
    }
    
    &__nav-button {
      border-width: 2px;
      background-color: rgba($white, 0.2);
    }
    
    .btn--link--light {
      &::after {
        border-bottom-width: 2px;
      }
    }
  }
}

// Print styles
@media print {
  .hero-wrapper {
    // Zachowane - full width background
  }
  
  .hero-container {
    padding: 0;
  }
  
  .hero {
    height: auto;
    min-height: auto;
    page-break-inside: avoid;
    border-radius: 0;
    box-shadow: none;
    
    &__navigation {
      display: none;
    }
    
    &__overlay {
      background: rgba($black, 0.3);
    }
    
    &__title-main,
    &__title-accent,
    &__description {
      color: $black !important;
    }
  }
}

// =============================================================================
// CATEGORIES SECTION - Product categories grid with Figma layout
// =============================================================================

.categories-wrapper {
  background-color: $white;
  padding-block: $section-padding-block;
  padding-inline: $section-padding-inline;
  background-image: url('/wp-content/uploads/2025/07/Layer_1.png');
  background-repeat: no-repeat;
  background-position: right top;
  background-size: contain;
  
  @include tablet-up {
    padding-inline: $section-padding-inline-tablet;
  }
  
  @include desktop-up {
    padding-inline: $section-padding-inline-desktop;
  }
}

.categories-container {
  max-width: $container-max-width;
  margin: 0 auto;
  width: 100%;
}

.categories {
  display: flex;
  flex-direction: column;
  gap: clamp(40px, 6vw, 64px);  
  align-items: center !important;
  width: 100%;
  
  // Desktop layout - text left (50%) | grid right (50%)
  @include desktop-up {
    flex-direction: row;
    align-items: flex-start;
    gap: clamp(60px, 8vw, 80px); // Zwiększony gap między kolumnami
  }
  
  // =============================================================================
  // HEADER SECTION - Text content and CTA
  // =============================================================================
  
  &__content-header {
    flex: 1;
    min-width: 100%; // Pełna szerokość na telefonach
    display: flex;
    flex-direction: column;
    justify-content: center; // Vertically center content
    
    @include desktop-up {
      flex: 1;
      max-width: 100%; 
      flex-shrink: 0;
      padding-top: 40px;
      min-width: 0; // Reset dla desktopa
    }
  }
  
  &__subheader {
    font-size: map-get($font-sizes, "h6") !important;
    font-weight: map-get($font-weights, "medium");
    font-family: $font-secondary;
    color: $black;
    margin: 0 0 map-get($spacing, "md") 0;
    font-style: italic;
    
    @include tablet-up {
      font-size: map-get($font-sizes, "p");
    }
  }
  
  &__heading {
    font-size: map-get($font-sizes, "h2");
    font-weight: map-get($font-weights, "regular");
    line-height: map-get($line-heights, "tight");
    color: $primary-text-color;
    margin: 0 0 clamp(32px, 5vw, 48px) 0;
    
    @include desktop-up {
      font-size: clamp(36px, 3vw, 54px);
      margin-bottom: clamp(40px, 4vw, 56px);
    }
  }
  
// =============================================================================
// GRID SECTION - 2x2 categories tiles (organiczny układ)
// =============================================================================

&__grid-wrapper {
  flex: 1;
  min-width: 100%; // Pełna szerokość na telefonach
  
  @include desktop-up {
    flex: 1; // 50/50 split
    max-width: 50%;
    min-width: 0; // Reset dla desktopa
  }
}

&__grid {
  display: grid;
  grid-template-columns: 1fr;
  grid-template-rows: repeat(4, 125px);
  gap: 16px;
  width: 100%;
  position: relative;
  
  @include mobile-up {
    width: 100%;
    grid-template-columns: 1fr;
    grid-template-rows: repeat(4, 125px);
    gap: 20px;
  }
  
  @include tablet-up {
    grid-template-columns: 1fr;
    grid-template-rows: repeat(4, 125px);
    gap: 20px;
  }
  
  @include desktop-up {
    display: block; // Zamiast grid używamy block na desktopie dla pozycjonowania absolutnego
    height: 525px;
    position: relative;
  }
}

// =============================================================================
// CATEGORY TILES - Individual product category cards
// =============================================================================

&__tile {
  position: relative;
  border-radius: map-get($border-radius, "lg");
  overflow: hidden;
  box-shadow: map-get($shadows, "md");
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  cursor: pointer;
  width: 100%;
  height: 125px; // Zmniejszona wysokość na mobile
  
  @include desktop-up {
    // Domyślne style dla desktopa - zostaną nadpisane dla konkretnych artykułów
    height: auto;
  }

  // Modifier for tiles with background image
  &--with-image {
    background-color: $medium-grey; // Fallback
  }
  
  // Modifier for default tiles (no image) - ciemniejszy kolor #132684 + gradient
  &--default {
    background: #132684;
    position: relative;
    width: 100%; // Zapewnienie pełnej szerokości
    
    &::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 40%;
      background: linear-gradient(
        to bottom,
        rgba($black, 0) 0%,
        rgba($black, 0.2) 100%
      );
      z-index: 1;
    }
  }
  
  // Hover effects
  &:hover {
    transform: translateY(-4px);
    box-shadow: map-get($shadows, "lg");
    z-index: 5; // Dodane dla lepszego efektu przy hover
  }
}
  
  &__tile-link {
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    width: 100%;
    height: 100%;
    text-decoration: none;
    color: inherit;
    position: relative;
    transition: all map-get($transitions, "normal");
    
    &:focus-visible {
      outline: $focus-width $focus-style $focus-color;
      outline-offset: $focus-offset;
    }
    
    // Disabled state
    &--disabled {
      cursor: default;
      
      &:focus-visible {
        outline: none;
      }
    }
  }
  
  &__tile-background {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
    overflow: hidden; // Zapobiega wychodzeniu obrazka poza granice przy hover
  }
  
  &__tile-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    transition: transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94); // Płynniejsza animacja
  }
  
  &__tile-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      to top,
      rgba($black, 0.7) 0%,
      rgba($black, 0.4) 40%,
      rgba($black, 0.1) 100%
    );
    z-index: 2;
    transition: background 0.3s ease;
  }
  
  &__tile-content {
    position: relative;
    z-index: 10;
    padding: 30px; // Zwiększony padding z 20px na 30px
    color: $white;
    text-align: left;
    transform: translateY(0);
    transition: transform 0.3s ease; // Dodana animacja dla contentu
    
    @include desktop-up {
      padding: 30px; // Utrzymany zwiększony padding również na desktop
    }
  }
  
  &__tile-title {
    font-size: clamp(18px, 2.5vw, 22px);
    font-weight: map-get($font-weights, "regular");
    line-height: map-get($line-heights, "tight");
    margin: 0;
    color: $white;
    transition: transform 0.3s ease; // Dodana animacja dla tytułu
    
    // Obsługa span dekoracyjnego
    .decor {
      color: inherit;
      font-weight: inherit;
      font-size: inherit;
    }
    
    @include desktop-up {
      font-size: clamp(20px, 2vw, 24px); // Zmniejszona czcionka
    }
  }
  
  // Enhanced hover effects for tiles with images
  &__tile--with-image:hover {
    .categories__tile-image {
      transform: scale(1.05); // Bardziej zauważalny, ale płynny efekt
    }
    
    .categories__tile-title {
      transform: translateY(-3px); // Delikatna animacja tytułu
    }
  }
}

// =============================================================================
// DESKTOP LAYOUT - Pozycjonowanie kafelków w układzie organicznym
// =============================================================================

// Osobne selektory dla konkretnych artykułów w desktopie
@include desktop-up {
  // Pierwszy kafelek (lewy górny)
  .categories__grid article:nth-child(1) {
    position: absolute;
    width: 48%;
    height: 350px;
    top: 0;
    left: 0;
    z-index: 1;
  }
  
  // Drugi kafelek (prawy górny)
  .categories__grid article:nth-child(2) {
    position: absolute;
    width: 48%;
    height: 150px;
    top: 0;
    right: 0;
    z-index: 1;
  }
  
  // Trzeci kafelek (lewy dolny)
  .categories__grid article:nth-child(3) {
    position: absolute;
    width: 48%;
    height: 150px;
    bottom: 0;
    left: 0;
    z-index: 1;
    
  }
  
  // Czwarty kafelek (prawy dolny)
  .categories__grid article:nth-child(4) {
    position: absolute;
    width: 48%;
    height: 350px;
    bottom: 0;
    right: 0;
    z-index: 1;
  }
}

// =============================================================================
// ACCESSIBILITY & PERFORMANCE
// =============================================================================

// Reduced motion
@media (prefers-reduced-motion: reduce) {
  .categories {
    &__tile {
      transition: none;
      
      &:hover {
        transform: none;
      }
    }
    
    &__tile-image {
      transition: none;
      
      .categories__tile--with-image:hover & {
        transform: none;
      }
    }
    
    &__tile-title {
      transition: none;
      
      .categories__tile--with-image:hover & {
        transform: none;
      }
    }
  }
}

// High contrast mode
@media (prefers-contrast: high) {
  .categories {
    &__tile {
      border: 2px solid;
      
      &--default {
        border-color: $primary-color-blue-dark;
      }
      
      &--with-image {
        border-color: $white;
      }
    }
    
    &__tile-overlay {
      background: linear-gradient(
        to top,
        rgba($black, 0.8) 0%,
        rgba($black, 0.5) 50%,
        rgba($black, 0.2) 100%
      );
    }
  }
}

// Print styles
@media print {
  .categories-wrapper {
    background-color: $white;
    background-image: none; // Wyłączenie obrazka tła przy drukowaniu
    padding-block: map-get($spacing, "lg");
  }
  
  .categories {
    flex-direction: column;
    
    &__grid {
      display: block;
      
      .categories__tile {
        margin-bottom: map-get($spacing, "lg");
        height: auto !important; // Reset heights for print
        box-shadow: none;
        border: 1px solid $light-grey;
        page-break-inside: avoid;
        
        &--default {
          background: $light-grey;
        }
        
        &:hover {
          transform: none;
          box-shadow: none;
        }
      }
    }
    
    &__tile-content {
      color: $black;
      padding: 16px;
    }
    
    &__tile-title {
      color: $black;
      font-size: 18px; // Fixed size for print
    }
  }
}

// =============================================================================
// PORADNIKI SECTION - Sleeping positions accordion
// =============================================================================

.poradniki-wrapper {
  background-color: $background-color;
  padding-block: $section-padding-block;
  padding-inline: $section-padding-inline;
  background-image: url('/wp-content/uploads/2025/07/piorko-zawiniete.png');
  background-repeat: no-repeat;
  background-position: left bottom;
  background-size: contain;
  
  @include tablet-up {
    padding-inline: $section-padding-inline-tablet;
  }
  
  @include desktop-up {
    padding-inline: $section-padding-inline-desktop;
  }
}

.poradniki-container {
  max-width: $container-max-width;
  margin: 0 auto;
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: clamp(40px, 6vw, 64px);
}

// =============================================================================
// HEADER SECTION - Title, subtitle and description
// =============================================================================

.poradniki-header {
  display: flex;
  flex-direction: column;
  gap: clamp(24px, 5vw, 32px);
  
  @include desktop-up {
    flex-direction: row;
    justify-content: space-between;
    gap: clamp(30px, 5vw, 40px);
  }
  
  &__left {
    flex: 1;
    width: 100%;
    
    @include desktop-up {
      flex: 0 0 65%; 
      max-width: 65%; 
    }
  }
  
  &__right {
    flex: 1;
    width: 100%;
    
    @include desktop-up {
      flex: 0 0 35%; 
      max-width: 35%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-self: center; 
    }
  }
  
  &__heading {
    font-size: map-get($font-sizes, "h2");
    font-weight: map-get($font-weights, "regular");
    line-height: map-get($line-heights, "tight");
    color: $primary-text-color;
    margin: 0 0 clamp(24px, 4vw, 32px) 0;
    max-width: 80%; 
    
    @include desktop-up {
      font-size: clamp(36px, 3vw, 54px);
    }
  }
  
  &__subheading {
    font-size: map-get($font-sizes, "p");
    line-height: map-get($line-heights, "relaxed");
    color: $primary-text-color;
    max-width: 90%; 
  }
  
  &__text {
    font-size: 18px;
    line-height: map-get($line-heights, "relaxed");
    color: $primary-text-color;
    max-width: 100%;
    text-align: left;
  }
}

// =============================================================================
// ACCORDION CONTENT - Tabs and panels
// =============================================================================

.poradniki-content {
  width: 100%;
  box-sizing: border-box;
}

.poradniki-accordion {
  display: flex;
  flex-direction: column;
  gap: clamp(24px, 4vw, 32px);
  box-sizing: border-box;
  
  @include desktop-up {
    flex-direction: row;
    align-items: stretch;
    gap: clamp(40px, 5vw, 48px);
    min-height: 450px; 
  }
  
  // Tab Headers
  &__headers {
    display: flex;
    flex-direction: column;
    width: 100%;
    gap: 12px;
    box-sizing: border-box;
    
    @include desktop-up {
      flex: 0 0 40%;
      max-width: 40%;
      justify-content: center;
      padding: 40px 0;
    }
  }
  
  &__tab {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px 0;
    background: transparent;
    border: none;
    border-bottom: 1px solid $light-grey;
    cursor: pointer;
    transition: all map-get($transitions, "normal");
    width: 100%;
    text-align: left;
    color: $text-light;
    font-size: map-get($font-sizes, "h4");
    font-weight: map-get($font-weights, "regular");
    font-family: $font-primary;
    box-sizing: border-box;
    
    @include desktop-up {
      padding: 20px 0;
    }
    
    &:hover, &:focus {
      border-bottom-color: $medium-grey;
      color: $black;
      
      .poradniki-accordion__tab-icon {
        transform: translateX(3px);
      }
    }
    
    &.active {
      border-bottom-color: $black;
      color: $black;
      
      .poradniki-accordion__tab-icon {
        transform: translateX(3px);
      }
    }
    
    &:focus-visible {
      outline: $focus-width $focus-style $focus-color;
      outline-offset: $focus-offset;
    }
  }
  
  &__tab-text {
    flex: 1;
  }
  
  &__tab-icon {
    width: 16px;
    height: 16px;
    transition: transform map-get($transitions, "normal");
    transform: translateX(-2px);
  }
  
  // Panels Container
  &__panels {
    width: 100%;
    overflow: hidden;
    height: 550px;
    margin-bottom: 40px;
    position: relative;
    box-sizing: border-box;
    
    @include desktop-up {
      flex: 0 0 60%;
      max-width: 60%;
      height: 450px;
      margin-bottom: 0;
    }
    
    .swiper {
      height: 100%;
      width: 100%;
    }
    
    .swiper-wrapper {
      height: 100%;
      width: 100%;
    }
    
    .swiper-slide {
      width: 100%;
      box-sizing: border-box;
      opacity: 0;
      transition: opacity 0.5s ease;
    }
    
    .swiper-slide-active {
      opacity: 1;
    }
  }
  
  // Individual Panel
  &__panel {
    position: relative;
    border-radius: map-get($border-radius, "lg");
    overflow: hidden;
    height: 100%;
    background-color: transparent;
    box-sizing: border-box !important;
    width: 100% !important;
    display: flex;
    flex-direction: column;
  }
  
  &__panel-background {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
    box-sizing: border-box;
  }
  
  &__panel-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
  }
  
  &__panel-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      to top,
      rgba($black, 0.4) 0%,
      rgba($black, 0.2) 50%,
      rgba($black, 0.1) 100%
    );
    z-index: 2;
    box-sizing: border-box;
  }
  
  &__panel-content {
    position: relative;
    z-index: 10;
    padding: 20px;
    margin-top: auto; // Kluczowe - to wymusza treść na dole
    width: 100%;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    gap: 20px;
    
    @include desktop-up {
      padding: 20px 0;
    }
  }
  
  &__panel-cta {
    align-self: center;
    margin-right: 0;
    z-index: 20;
    margin-bottom: 20px;
    width: auto;
    box-sizing: border-box;
    transition: transform map-get($transitions, "normal");
    
    @include desktop-up {
      align-self: flex-end;
      margin-right: 40px;
      margin-bottom: 20px;
    }
    
    &:hover {
      transform: translateY(-3px);
    }
    
    .btn {
      font-size: map-get($font-sizes, "button");
      transition: all map-get($transitions, "normal");
      
      &.btn--link--light {
        border-bottom-color: rgba($white, 0.4);
        padding: 0 16px; 
        gap: 12px;
        display: flex; 
        align-items: center;
      }
      
      .btn__icon {
        width: 16px;
        height: 16px;
        transition: transform map-get($transitions, "normal");
      }
      
      &:hover .btn__icon {
        transform: translateX(3px);
      }
    }
  }
  
  &__panel-text {
    font-size: map-get($font-sizes, "p");
    line-height: map-get($line-heights, "relaxed");
    color: $white;
    background-color: $primary-color-blue;
    padding: 24px;
    border-radius: map-get($border-radius, "md");
    width: calc(100% - 40px);
    max-width: 100%;
    margin: 0 auto 20px auto;
    box-sizing: border-box;
    transition: transform map-get($transitions, "normal"), box-shadow map-get($transitions, "normal");
    box-shadow: map-get($shadows, "md");
    
    @include desktop-up {
      padding: 30px;
      width: calc(100% - 80px);
      margin: 0 40px 40px 40px;
    }
    
    &:hover {
      transform: translateY(-3px);
      box-shadow: map-get($shadows, "lg");
    }
    
    p {
      color: $white;
      margin-bottom: 1em;
      
      &:last-child {
        margin-bottom: 0;
      }
    }
  }
}

// =============================================================================
// JAVASCRIPT CUSTOMIZATIONS - dodaj to w pliku JS
// =============================================================================
/*
// Dodaj w pliku JS dla Swiper
const accordionSwiper = new Swiper('.poradniki-accordion__panels .swiper', {
  effect: 'fade',
  fadeEffect: {
    crossFade: true
  },
  speed: 500,
  // Pozostałe ustawienia
});
*/

// =============================================================================
// ACCESSIBILITY & PERFORMANCE
// =============================================================================

// Reduced motion
@media (prefers-reduced-motion: reduce) {
  .poradniki-accordion {
    &__tab {
      transition: none;
      
      &:hover, &.active {
        .poradniki-accordion__tab-icon {
          transform: none;
        }
      }
    }
    
    &__tab-icon {
      transition: none;
    }
    
    &__panel-cta, &__panel-text {
      transition: none;
      
      &:hover {
        transform: none;
        box-shadow: inherit;
      }
    }
    
    .btn, .btn__icon {
      transition: none;
      
      &:hover {
        transform: none;
      }
    }
    
    &__panels {
      .swiper-slide {
        transition: none !important;
        opacity: 1 !important;
      }
    }
  }
}

// High contrast mode
@media (prefers-contrast: high) {
  .poradniki-accordion {
    &__tab {
      border-bottom-width: 2px;
      
      &.active {
        border-bottom-color: $black;
      }
    }
    
    &__panel-overlay {
      background: rgba($black, 0.5);
    }
    
    &__panel-text {
      background-color: $primary-color-blue-dark;
      font-weight: map-get($font-weights, "medium");
      border: 2px solid $white;
    }
  }
}

// Print styles
@media print {
  .poradniki-wrapper {
    background-color: $white;
    padding-block: map-get($spacing, "lg");
  }
  
  .poradniki-accordion {
    flex-direction: column;
    
    &__tab {
      border-bottom: 2px solid $black;
      page-break-inside: avoid;
      
      &.active {
        font-weight: map-get($font-weights, "semibold");
      }
    }
    
    &__panel {
      page-break-inside: avoid;
      height: auto;
      min-height: 200px;
    }
    
    &__panel-text {
      background-color: $light-grey;
      color: $black;
      border: 1px solid $black;
      
      p {
        color: $black;
      }
    }
  }
}

// =============================================================================
// ABOUT US SECTION - "O nas" sekcja z wyświetlaniem informacji o firmie
// =============================================================================

.about {
  background-color: $background-color; // Zmienione z $white na $background-color
  padding-block: $section-padding-block;
  padding-inline: $section-padding-inline;
  position: relative;
  overflow: hidden;
  
  // Dekoracyjne piórko w tle
  &::before {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 300px;
    height: 300px;
    background-image: url('/wp-content/uploads/2025/07/Layer_1.png');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: top right;
    pointer-events: none;
    z-index: 1;
    
    @include mobile-up {
      width: 400px;
      height: 400px;
    }
    
    @include desktop-up {
      width: 500px;
      height: 500px;
    }
  }
  
  @include tablet-up {
    padding-inline: $section-padding-inline-tablet;
  }
  
  @include desktop-up {
    padding-inline: $section-padding-inline-desktop;
  }
  
  &__container {
    position: relative;
    z-index: 2;
    max-width: $container-max-width;
    margin: 0 auto;
    width: 100%;
  }
  
  // =============================================================================
  // TOP SECTION - Content and Images Layout
  // =============================================================================
  
  &__top {
    display: flex;
    flex-direction: column;
    gap: clamp(40px, 6vw, 64px);
    margin-bottom: clamp(48px, 8vw, 80px);
    
    @include desktop-up {
      flex-direction: row;
      align-items: flex-start;
    }
  }
  
  // =============================================================================
  // CONTENT COLUMN - Left side with heading and text
  // =============================================================================
  
  &__content {
    width: 100%;
    
    @include desktop-up {
      width: 45%;
      padding-right: 30px;
    }
  }
  
  &__heading {
    font-size: map-get($font-sizes, "h2");;
    font-weight: map-get($font-weights, "regular");
    line-height: map-get($line-heights, "tight");
    color: $primary-text-color;
    margin: 0 0 clamp(24px, 4vw, 32px) 0;
  }
  
  &__text {
    font-size: map-get($font-sizes, "p");
    font-weight: map-get($font-weights, "regular");
    line-height: map-get($line-heights, "relaxed");
    color: $primary-text-color;
    
    p {
      margin-bottom: map-get($spacing, "lg");
      
      &:last-child {
        margin-bottom: 0;
      }
    }
  }
  
  // =============================================================================
  // IMAGES COLUMN - Right side with 3 images layout
  // =============================================================================
  
  &__images {
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 20px;
    
    @include tablet-up {
      flex-direction: row;
      align-items: stretch;
    }
    
    @include desktop-up {
      width: 55%;
    }
  }
  
  &__image-column {
    width: 100%;
    
    @include tablet-up {
      &--left {
        display: flex;
        align-items: center;
        width: calc(50% - 10px);
        margin-right: 20px;
      }
      
      &--right {
        width: calc(50% - 10px);
        display: flex;
        flex-direction: column;
        gap: 20px;
      }
    }
  }
  
  &__image-wrapper {
    position: relative;
    border-radius: map-get($border-radius, "lg");
    overflow: hidden;
    box-shadow: map-get($shadows, "md");
    width: 100%;
    height: 250px; // Wszystkie obrazki mają wysokość 250px
    margin-bottom: 20px;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    
    &:hover {
      transform: translateY(-3px);
      box-shadow: map-get($shadows, "lg");
    }
    
    @include tablet-up {
      margin-bottom: 0;
    }
    
    &:last-child {
      margin-bottom: 0;
    }
  }
  
  &__image {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  
  // =============================================================================
  // BOTTOM SECTION - Info cards grid
  // =============================================================================
  
  &__bottom {
    margin-top: clamp(48px, 8vw, 80px);
  }
  
  &__cards {
    display: grid;
    grid-template-columns: 1fr;
    gap: 25px;
    
    @include tablet-up {
      grid-template-columns: repeat(2, 1fr);
      column-gap: 25px; 
      row-gap: 80px; 
    }
    
    @include desktop-up {
      grid-template-columns: repeat(4, 1fr);
    }
  }
  
  &__card {
    padding: 30px;
    border-radius: map-get($border-radius, "lg");
    display: flex;
    flex-direction: column;
    min-height: auto;
    height: auto;
    justify-content: flex-end;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    margin-bottom: 0;
    
    @include tablet-up {
      min-height: 150px;
      height: 100%;
    }
    
    &:hover {
      transform: translateY(-3px);
      box-shadow: map-get($shadows, "lg");
    }
    
    // Modifier for blue cards (odd)
    &--blue {
      background-color: $primary-color-blue;
      position: relative;
      
      &::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 40%;
        background: linear-gradient(
          to top,
          rgba($black, 0.3) 0%,
          rgba($black, 0) 100%
        );
        border-radius: 0 0 map-get($border-radius, "lg") map-get($border-radius, "lg");
        z-index: 1;
      }
      
      .about__card-title,
      .about__card-text {
        color: $white;
        position: relative;
        z-index: 2;
      }
    }
    
    // Modifier for white cards (even)
    &--white {
      background-color: $white;
      border: 1px solid $light-grey;
      
      .about__card-title,
      .about__card-text {
        color: $primary-text-color;
      }
    }
    
    &-title {
      font-size: clamp(20px, 2.5vw, 36px);
      font-weight: map-get($font-weights, "medium");
      line-height: map-get($line-heights, "tight");
      margin: 0 0 map-get($spacing, "md") 0;
    }
    
    &-text {
      font-size: clamp(16px, 1.5vw, 20px);
      line-height: map-get($line-heights, "relaxed");
    }
  }
  
  // =============================================================================
  // ACCESSIBILITY & PERFORMANCE
  // =============================================================================
  
  // Reduced motion
  @media (prefers-reduced-motion: reduce) {
    &__image-wrapper,
    &__card {
      transition: none;
      
      &:hover {
        transform: none;
        box-shadow: inherit;
      }
    }
  }
  
  // High contrast mode
  @media (prefers-contrast: high) {
    &__card {
      &--blue {
        border: 2px solid $primary-color-blue-dark;
        
        &::after {
          display: none;
        }
      }
      
      &--white {
        border: 2px solid $black;
      }
    }
    
    &__image-wrapper {
      border: 2px solid $black;
    }
  }
  
  // Print styles
  @media print {
    background-color: $white;
    
    &::before {
      display: none; // Ukryj piórko w wydruku
    }
    
    &__image-wrapper {
      box-shadow: none;
      border: 1px solid $light-grey;
      height: 150px; // Zmniejszona wysokość do druku
      
      &:hover {
        transform: none;
        box-shadow: none;
      }
    }
    
    &__images {
      display: block;
      height: auto;
      
      .about__image-wrapper {
        margin-bottom: 20px;
      }
    }
    
    &__cards {
      grid-template-columns: 1fr;
    }
    
    &__card {
      page-break-inside: avoid;
      border: 1px solid $light-grey !important;
      min-height: auto;
      
      &:hover {
        transform: none;
        box-shadow: none;
      }
      
      &--blue {
        background-color: $white;
        
        &::after {
          display: none;
        }
        
        .about__card-title,
        .about__card-text {
          color: $black;
        }
      }
    }
  }
}


// =============================================================================
// BLOG SECTION - "Wpisy" sekcja na stronie głównej
// =============================================================================

.blog-section {
  padding-block: $section-padding-block;
  padding-inline: $section-padding-inline;
  background-color: $background-color;
  position: relative;
  
  @include tablet-up {
    padding-inline: $section-padding-inline-tablet;
  }
  
  @include desktop-up {
    padding-inline: $section-padding-inline-desktop;
  }
  
  &__header {
    display: flex;
    flex-direction: column;
    gap: map-get($spacing, "lg");
    margin-bottom: clamp(32px, 6vw, 48px);
    
    @include tablet-up {
      flex-direction: row;
      justify-content: space-between;
      align-items: center;
    }
    
    &-left {
      flex: 1;
    }
    
    &-right {
      display: flex;
      justify-content: flex-start;
      width: 100%; // Pełna szerokość kontenera na mobilkach
      
      @include tablet-up {
        justify-content: flex-end;
        width: auto; // Automatyczna szerokość na większych ekranach
      }
    }
  }
  
  &__cta {
    width: 100%; // Pełna szerokość kontenera przycisku na mobilkach
    
    @include tablet-up {
      width: auto; // Automatyczna szerokość na większych ekranach
    }
  }
  
  &__heading {
    font-size: map-get($font-sizes, "h2");
    font-weight: map-get($font-weights, "regular");
    line-height: map-get($line-heights, "tight");
    color: $primary-text-color;
    margin: 0;
    
    @include desktop-up {
      width: 55%; // Szerokość TYLKO dla desktopu
    }
  }
  
  &__posts {
    position: relative;
    overflow: hidden;
    
    @include tablet-up {
      overflow: visible;
    }
  }
  
  &__swiper {
    width: 100%;
    overflow: visible;
    padding-bottom: 50px; // Miejsce na paginację
    
    .swiper-wrapper {
      display: flex;
      
      @include tablet-up {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 25px;
      }
    }
    
    .swiper-slide {
      height: auto;
      
      // Szerokość dla mobilnych urządzeń - pokazuje 1.25 slajdu (zamiast 1.5)
      width: 80%;
      margin-right: 5%;
      
      &:first-child {
        margin-left: 0;
      }
      
      @include tablet-up {
        width: 100%;
        margin-right: 0;
      }
    }
    
    .swiper-pagination {
      /* Widoczne tylko dla czytników ekranowych */
      position: absolute;
      height: 1px;
      width: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
      
      /* Ale dostępne dla klawiatury */
      &:focus-within {
        position: static;
        width: auto;
        height: auto;
        margin: 0;
        overflow: visible;
        clip: auto;
        white-space: normal;
      }
    }
    
    @include tablet-up {
      padding-bottom: 0;
    }
    
    @include desktop-up {
      // Zapewnienie, że Swiper jest wyłączony na desktopie i grid działa poprawnie
      overflow: visible;
      
      .swiper-wrapper {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 25px;
        transform: none !important; // Wymuszenie braku transformacji Swipera
        transition: none !important; // Wymuszenie braku animacji
      }
      
      .swiper-slide {
        width: 100% !important;
        margin-right: 0 !important;
      }
    }
  }
}

// =============================================================================
// POST CARD - Individual post item styling
// =============================================================================

.post-card {
  height: 100%;
  display: flex;
  flex-direction: column;
  background-color: $white;
  border-radius: map-get($border-radius, "lg");
  box-shadow: map-get($shadows, "sm");
  overflow: hidden;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  
  &:hover {
    transform: translateY(-3px);
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
  }
  
  &__image-container {
    position: relative;
    aspect-ratio: 4 / 3;
    overflow: hidden;
  }
  
  &__image-wrapper {
    width: 100%;
    height: 100%;
    
    &--placeholder {
      background-color: $light-grey;
    }
  }
  
  &__image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
    
    .post-card:hover & {
      transform: scale(1.05);
    }
  }
  
  &__image-placeholder {
    width: 100%;
    height: 100%;
    background-color: $light-grey;
  }
  
  &__tag {
    position: absolute;
    top: map-get($spacing, "md");
    left: map-get($spacing, "md");
    padding: 4px 10px;
    font-size: 12px;
    font-weight: map-get($font-weights, "regular");
    border-radius: 4px;
    color: $white;
    z-index: 2;
    
    &--popular {
      background-color: #009A33;
    }
    
    &--recent {
      background-color: $primary-color-blue;
    }
  }
  
  &__content {
    padding: 20px;
    display: flex;
    flex-direction: column;
    flex-grow: 1;
    
    &--newsletter {
      justify-content: center;
      height: 100%;
    }
  }
  
  &__title {
    font-size: map-get($font-sizes, "h5");
    font-weight: map-get($font-weights, "medium");
    line-height: map-get($line-heights, "tight");
    margin: 0 0 map-get($spacing, "md") 0;
    
    &--newsletter {
      font-size: 32px;
      font-weight: map-get($font-weights, "regular");
      color: $primary-text-color;

      @include desktop-up{
        width: 85%;
      }

    }
  }
  
  &__link {
    color: $primary-text-color;
    text-decoration: none;
    transition: color 0.2s ease;
    
    &:hover, &:focus {
      color: $primary-color-blue;
    }
  }
  
  &__excerpt {
    font-size: map-get($font-sizes, "p");
    line-height: map-get($line-heights, "relaxed");
    color: $text-muted;
    margin-bottom: map-get($spacing, "lg");
  }
  
  &__meta {
    margin-top: auto;
    display: flex;
    justify-content: flex-start;
  }
  
  &__categories {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
  }
  
  &__category {
    font-size: 14px;
    font-weight: map-get($font-weights, "semibold");
    color: $black;
    text-decoration: none;
    background-color: $background-color;
    padding: 4px 10px;
    border-radius: map-get($border-radius, "sm");
    transition: background-color 0.2s ease, color 0.2s ease;
    
    &:hover, &:focus {
      background-color: $background-color-hover;
      color: $primary-color-blue;
    }
  }
  
  // Newsletter specific styling
  &--newsletter {
    background-color: $white;
    height: 100%;
    
    .post-card__content {
      height: 100%;
      display: flex;
      flex-direction: column;
    }
    
    .post-card__excerpt {
      margin-bottom: 24px;
    }
  }
  
  &__form {
    margin-top: auto;
  }
  
  // Accessibility & Performance
  @media (prefers-reduced-motion: reduce) {
    transition: none;
    
    &:hover {
      transform: none;
      box-shadow: none;
    }
    
    &__image {
      transition: none;
      
      .post-card:hover & {
        transform: none;
      }
    }
  }
}

// Print styles
@media print {
  .blog-section {
    background-color: transparent;
    
    &__swiper {
      .swiper-wrapper {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 20px;
      }
      
      .swiper-slide {
        width: 100%;
      }
      
      .swiper-pagination {
        display: none;
      }
    }
  }
  
  .post-card {
    box-shadow: none;
    border: 1px solid $light-grey;
    
    &:hover {
      transform: none;
      box-shadow: none;
    }
    
    &__image {
      transition: none;
      
      .post-card:hover & {
        transform: none;
      }
    }
    
    &__form {
      display: none;
    }
  }
}

// =============================================================================
// PRODUCTS HOME SECTION - Sekcja z kategoriami produktów i karuzelą na stronie głównej
// =============================================================================

.products-home {
  padding-block: $section-padding-block;
  padding-inline: $section-padding-inline;
  position: relative;
  overflow: hidden;
  
  // Dekoracyjne piórko w tle
  &::before {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 300px;
    height: 300px;
    background-image: url('/wp-content/uploads/2025/07/Layer_1.png');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: top right;
    pointer-events: none;
    z-index: 1;
    
    @include mobile-up {
      width: 400px;
      height: 400px;
    }
    
    @include desktop-up {
      width: 500px;
      height: 500px;
    }
  }
  
  @include tablet-up {
    padding-inline: $section-padding-inline-tablet;
  }
  
  @include desktop-up {
    padding-inline: $section-padding-inline-desktop;
  }
  
  // =============================================================================
  // TOP SECTION - Nagłówki i tekst wprowadzający
  // =============================================================================
  
  &__top {
    position: relative;
    z-index: 2;
    margin-bottom: clamp(40px, 6vw, 64px);
  }
  
  &__intro {
    display: flex;
    flex-direction: column;
    gap: clamp(24px, 4vw, 40px);
    
    @include desktop-up {
      flex-direction: row;
      align-items: flex-start;
      justify-content: space-between; // Dodano rozłożenie elementów
    }
  }
  
  &__intro-left {
    width: 100%;
    
    @include desktop-up {
      width: 45%;
    }
  }
  
  &__intro-right {
    width: 100%;
    
    @include desktop-up {
      width: 35%; // Zmienione z 55% na 35%
    }
  }
  
  &__subheading {
    font-family: $font-secondary;
    font-size: 32px;
    font-weight: 400;
    font-style: italic;
    color: $primary-text-color;
    margin-bottom: clamp(8px, 2vw, 16px);
  }
  
  &__heading {
    font-family: $font-primary;
    font-size: clamp(36px, 5vw, 54px);
    font-weight: 400;
    line-height: map-get($line-heights, "tight");
    color: $primary-text-color;
    margin: 0;
  }
  
  &__text {
    font-family: $font-primary;
    font-size: 18px;
    font-weight: 400;
    line-height: map-get($line-heights, "relaxed");
    color: $primary-text-color;
    
    p {
      margin-bottom: map-get($spacing, "lg");
      
      &:last-child {
        margin-bottom: 0;
      }
    }
  }
  
  // =============================================================================
  // CONTENT SECTION - Main content layout
  // =============================================================================
  
  &__content {
    position: relative;
    z-index: 2;
  }
  
  &__wrapper {
    display: flex;
    flex-direction: column;
    gap: 30px;
    
    @include desktop-up {
      flex-direction: row;
      align-items: stretch;
    }
  }
  
  // =============================================================================
  // MOBILE CATEGORY SELECTOR - Dropdown do wyboru kategorii na mobile
  // =============================================================================
  
  &__mobile-selector {
    display: block;
    width: 100%;
    margin-bottom: 30px;
    
    @include desktop-up {
      display: none; // Ukrywamy na desktopie
    }
  }
  
  &__dropdown-wrapper {
    position: relative;
    width: 100%;
  }
  
  &__mobile-dropdown {
    width: 100%;
    padding: 15px;
    font-family: $font-primary;
    font-size: 18px;
    font-weight: 400;
    color: $primary-text-color;
    background-color: $white;
    border: 1px solid $light-grey;
    border-radius: map-get($border-radius, "md");
    appearance: none;
    cursor: pointer;
    padding-right: 40px; // Miejsce na ikonę
    
    &:focus {
      outline: $focus-width $focus-style $focus-color;
      outline-offset: $focus-offset;
    }
  }
  
  &__dropdown-icon {
    position: absolute;
    top: 50%;
    right: 15px;
    transform: translateY(-50%);
    pointer-events: none;
    transition: transform 0.3s ease;
    
    img {
      width: 16px;
      height: 16px;
      display: block;
      transition: transform 0.3s ease;
      
      &.rotate {
        transform: rotate(180deg);
      }
    }
  }
  
  // =============================================================================
  // TABS SECTION - Category tabs/accordion
  // =============================================================================
  
  &__tabs {
    width: 100%;
    display: none;
    
    @include desktop-up {
      display: flex;
      width: 30%;
      padding-right: 30px;
      flex-direction: column;
      gap: 10px; // Dodany gap między pozycjami w akordeonie
    }
  }
  
  &__tab {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 15px;
    background-color: transparent;
    border: none;
    border-bottom: 1px solid #1F1F1F;
    cursor: pointer;
    transition: all 0.3s ease;
    text-align: left;
    
    &:hover, &.active {
      background-color: $white;
      border: 1px solid #1F1F1F;
      border-radius: 8px;
    }
    
    &-text {
      font-family: $font-primary;
      font-size: 20px;
      font-weight: 200;
      color: #1F1F1F;
    }
    
    &-icon {
      width: 15px;
      height: 15px;
      transition: transform 0.3s ease;
    }
    
    &:hover .products-home__tab-icon,
    &.active .products-home__tab-icon {
      transform: rotate(45deg);
    }
  }
  
  // =============================================================================
  // PANELS SECTION - Category info and products carousel
  // =============================================================================
  
  &__panels {
    width: 100%;
    
    @include desktop-up {
      width: 70%;
    }
  }
  
  &__panel {
    width: 100%;
    transition: height 0.3s ease-out; // Dodane płynne przejście
    
    &.active {
      display: block;
    }
    
    &-inner {
      display: flex;
      flex-direction: column;
      transition: height 0.3s ease-out; // Dodane płynne przejście
      
      @include desktop-up {
        flex-direction: row;
        align-items: stretch;
        gap: 30px;
        justify-content: space-between; // Rozpychanie elementów na pełną szerokość
      }
    }
  }
  
  // =============================================================================
  // CATEGORY CARD - Category information
  // =============================================================================
  
  &__category-card {
    width: 100%;
    display: flex;
    flex-direction: column;
    background-color: $white;
    border-radius: map-get($border-radius, "lg");
    box-shadow: map-get($shadows, "md");
    overflow: hidden;
    height: auto;
    
    @include desktop-up {
      width: 40%; // Zmienione z 30% na 40% - szerszy kafelek
      height: 100%;
    }
    
    // Wersje karty kategorii na różne szerokości ekranu
    &--desktop {
      display: none;
      
      @include desktop-up {
        display: flex;
      }
    }
    
    &--mobile {
      display: flex;
      height: 100%;
      
      @include desktop-up {
        display: none;
      }
    }
  }
  
  &__category-image {
    position: relative;
    width: 100%;
    height: 200px;
    overflow: hidden;
  }
  
  &__category-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      to bottom,
      rgba($black, 0.2) 0%,
      rgba($black, 0) 100%
    );
    z-index: 1;
  }
  
  &__category-banner {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  
  &__category-link {
    position: absolute;
    top: 50%; // Zmienione z bottom: 20px na top: 50%
    left: 0;
    right: 0;
    transform: translateY(-50%); // Wycentrowanie w pionie
    z-index: 2;
    text-decoration: none;
    display: block;
    transition: transform 0.3s ease;
    text-align: center; // Wyśrodkowanie tekstu
    
    &:hover {
      transform: translateY(calc(-50% - 5px)); // Dostosowane do nowej pozycji
    }
  }
  
  &__category-title {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-family: $font-primary;
    font-size: clamp(28px, 3vw, 38px);
    font-weight: 500;
    color: $white;
    margin: 0;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
  }
  
  &__category-arrow {
    width: 24px;
    height: 24px;
    margin-left: 10px;
  }
  
  &__category-info {
    padding: 30px;
    display: flex;
    flex-direction: column;
    gap: 10px; // Zmniejszone z 20px na 10px
    flex-grow: 1;
    text-align: left; // Zmienione na wyrównanie do lewej
  }
  
  &__category-property {
    margin-bottom: 8px;
    text-align: left; // Upewnienie się, że tekst jest wyrównany do lewej
    
    &:last-child {
      margin-bottom: 0;
    }
  }
  
  &__property-name {
    font-family: $font-secondary;
    font-size: 16px;
    font-weight: 400;
    font-style: italic;
    color: $text-light;
    margin: 0 0 5px 0;
  }
  
  &__property-value {
    font-family: $font-primary;
    font-size: 20px;
    font-weight: 400;
    color: $primary-text-color;
  }
  
// =============================================================================
// PRODUCTS CAROUSEL - Products display
// =============================================================================

&__products-wrapper {
  width: 100%;
  overflow: visible; // Pozwala karuzeli wychodzić poza kontener
  
  @include desktop-up {
    width: 60%; // Zmniejszone z 70% na 60% (proporcjonalnie do zwiększenia kafelka kategorii)
    margin-top: 0;
  }
}

&__products-carousel {
  width: 100%;
  position: relative;
  
  // Pełna szerokość od początku sekcji do prawej krawędzi ekranu
  .swiper-wrapper {
    width: 100%;
    align-items: stretch; // Dodane - wyrównanie wysokości slajdów
  }
  
  // Dodane - naprawia problem z "dziurą" na początku karuzeli
  &.swiper-container-initialized {
    .swiper-slide-duplicate-active,
    .swiper-slide-duplicate-next,
    .swiper-slide-duplicate-prev {
      visibility: visible !important;
    }
  }
  
  // Rozszerzenie karuzeli do prawej krawędzi ekranu na mobilnych urządzeniach
  @include mobile-up {
    width: calc(100% + $section-padding-inline); // Rozszerzenie o padding sekcji
    margin-right: -$section-padding-inline; // Negatywny margin równy paddingowi
  }
  
  @include tablet-up {
    width: calc(100% + $section-padding-inline-tablet);
    margin-right: -$section-padding-inline-tablet;
  }
  
  @include desktop-up {
    width: calc(100% + $section-padding-inline-desktop + ((100vw - $container-max-width) / 2));
    margin-right: calc(-1 * ($section-padding-inline-desktop + ((100vw - $container-max-width) / 2)));
  }
  
  .swiper-slide {
    height: auto;
    width: auto; // Dodane - pozwala na lepsze dopasowanie szerokości
    
    // Dodane dla lepszego renderowania pierwszego slajdu
    &:first-child {
      margin-left: 0;
    }
    
    // Wersja mobilna - na pełną szerokość
    &.products-home__category-slide {
      @include desktop-up {
        display: none; // Ukrywamy slajd kategorii na desktopie
      }
    }
  }
}

&__no-products {
  padding: 30px;
  text-align: center;
  font-family: $font-primary;
  font-size: 18px;
  color: $text-muted;
}

// Slajd kategorii w karuzeli na mobile
&__category-slide {
  height: auto;
  
  @include desktop-up {
    display: none; // Ukrywamy slajd kategorii na desktopie
  }
}
  
  // =============================================================================
  // MOBILE STYLES - Responsywność
  // =============================================================================
  
  // Układ mobilny - kafelek kategorii i produkty w karuzeli
  @include mobile-up {
    &__panel-inner {
      display: block; // Pełna szerokość dla karuzeli
      overflow: visible;
    }
  }
  
  @include desktop-up {
    &__panel-inner {
      display: flex;
      flex-direction: row;
    }
  }
  
  // =============================================================================
  // ACCESSIBILITY & PERFORMANCE
  // =============================================================================
  
  // Reduced motion
  @media (prefers-reduced-motion: reduce) {
    &__tab,
    &__category-link {
      transition: none;
      
      &:hover {
        transform: none;
      }
    }
    
    &__tab:hover .products-home__tab-icon,
    &__tab.active .products-home__tab-icon {
      transform: none;
    }
    
    &__dropdown-icon img.rotate {
      transform: none;
    }
    
    &__panel,
    &__panel-inner,
    &__products-wrapper,
    &__products-carousel,
    &__products-carousel .swiper-wrapper,
    &__products-carousel .swiper-slide {
      transition: none;
    }
  }
  
  // High contrast mode
  @media (prefers-contrast: high) {
    &__tab {
      border: 2px solid $black;
      
      &:hover, &.active {
        border: 2px solid $black;
        background-color: $light-grey;
      }
    }
    
    &__category-card {
      border: 2px solid $black;
      box-shadow: none;
    }
    
    &__category-title {
      text-shadow: none;
    }
    
    &__mobile-dropdown {
      border: 2px solid $black;
    }
  }
  
  // Print styles
  @media print {
    background-color: $white;
    padding: 20px;
    
    &::before {
      display: none; // Ukryj piórko w wydruku
    }
    
    &__wrapper {
      display: block;
    }
    
    &__tabs {
      display: none;
    }
    
    &__panel {
      display: block !important;
      margin-bottom: 40px;
      page-break-inside: avoid;
      
      &-inner {
        display: block;
      }
    }
    
    &__category-card {
      width: 100%;
      margin-bottom: 20px;
      box-shadow: none;
      border: 1px solid $light-grey;
    }
    
    &__products-wrapper {
      width: 100%;
      
      .swiper-wrapper {
        display: flex;
        flex-wrap: wrap;
      }
      
      .swiper-slide {
        width: 50% !important;
        margin-bottom: 20px;
      }
    }
  }
}